---
title: 그래프QL의 단점
category: web
---

[그래프QL(GraphQL)](https://graphql.org/)을 통해 클라이언트가 원하는 만큼의 데이터를 가져올 수 있다는 것은 사실입니다. 그러나 이는 서비스의 규모가 거대해야만 비로소 가치를 발합니다.

## 장점: 서버 수정 없이도 클라이언트 구현 가능

그래프QL에서는 어떤 데이터를 어떤 구조로 받아올지 클라이언트가 정합니다. 때문에 클라이언트의 레이아웃이 변경되어 **데이터를 받아오는 방식에 변형을 가할 필요가 있더라도 서버 쪽의 코드를 수정할 필요가 없습니다.**

안드로이드 앱, iOS 앱, 웹 사이트와 같이 다양한 클라이언트가 필요한 경우, 비슷하면서도 저마다 조금씩 다른 내용을 보여주어야 합니다. 그래프QL이 없다면, 서버는 클라이언트들을 위해 각 클라이언트 별로 REST API를 만들든가 아니면 데이터를 비효율적으로 많이 가져오는 통일된 API를 만들어두어야 할 것입니다. **그래프QL을 통한다면 아주 쉽습니다. 클라이언트마다 서로 다른 쿼리를 날리기만 하면 됩니다.**

## 글쎄: 스키마 정의 언어

얻어온 데이터가 어떤 스키마(구조)를 가지는지 쉽게 파악할 수 있게 하는 것은 중요합니다.

**그래프QL은 스키마를 정의할 수 있습니다. 그러나 이는 REST API 역시 마찬가지입니다.** [오픈API(OpenAPI)](https://swagger.io/docs/specification/about/)라고도 불리는 [스웨거(Swagger)](https://swagger.io/) 역시 REST API에 대한 스키마를 정의할 수 있는 기능을 가집니다. 그래프QL 진영에서의 [GraphiQL](https://github.com/graphql/graphiql)같은 개발 도구 또한 스웨거는 [스웨거 에디터(Swagger Editor)](https://swagger.io/tools/swagger-editor/)라는 이름으로 제공하고 있습니다.

## 단점: 높은 학습 및 구현 비용

그래프QL에서 말하는 다양한 개념과 쿼리를 작성하는 방법에 대해 알고 있어야 합니다. 그것도 클라이언트와 서버 개발자 모두 말이죠.

파일 업로드같이 `<form>` 태그를 쓰면 되는 간단한 일조차도, 그래프QL을 적용하기 시작하면 문제가 됩니다:

<https://blog.logrocket.com/5-reasons-you-shouldnt-be-using-graphql-61c7846e7ed3>
> 파일 업로드는 그래프QL 명세에 언급된 기능이 아니기 때문에 어떻게 구현할지는 우리 스스로 결정해야 합니다. 몇 가지 방법이 있습니다:
>
> - 베이스64 인코딩을 사용합니다. 다만 업로드 요청 메시지의 크기를 거대하게 만들거나 인코딩/디코딩 과정이 까다로워질 수 있습니다.
> - 업로드를 위한 분리된 API를 마련합니다.
> - [apollo-upload-server](https://github.com/jaydenseric/apollo-upload-server)같이 [그래프QL multipart 요청 명세](https://github.com/jaydenseric/graphql-multipart-request-spec)를 구현하는 라이브러리를 사용합니다.

## 결론: 규모가 페이스북 정도는 되어야 쓸만한 기술이 아닐까

그래프QL의 장점을 극대화하고 단점을 최소화하기 위해서는 프로젝트의 규모가 거대해야 합니다. 그렇지 않으면 소프트웨어의 복잡도만 높이는 기술이 될 수도 있습니다.
