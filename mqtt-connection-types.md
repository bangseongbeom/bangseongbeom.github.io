[π  λ°©μ„±λ²” λΈ”λ΅κ·Έ](/README.md) > [π› IoT](/iot.md)

# MQTT μ—°κ²° λ°©μ‹

<time id="published" datetime="2019-08-16">2019. 8. 16.</time>

MQTTμ TLS λ³΄μ• μ—°κ²°μ΄λ‚ μ›Ήμ†μΌ“μ„ ν†µν• μ—°κ²° λ°©μ‹μ— λ€ν•΄ μ†κ°ν•©λ‹λ‹¤.

## μΌλ°

μΌλ°μ μΈ MQTT μ—°κ²° λ°©μ‹μ…λ‹λ‹¤. μ•”νΈν™”λμ–΄μμ§€ μ•μΌλ―€λ΅, **κ°™μ€ Wi-Fiλ¥Ό μ‚¬μ©ν•λ” κ²½μ°** νƒ€μΈμ΄ κ°μ²­ν•  μ μμµλ‹λ‹¤.

ν•μ§€λ§ μ–΄μ°¨ν”Ό λ―Όκ°ν• λ°μ΄ν„°λ„ μ•„λ‹κ³ , μ•”νΈν™”λ΅ μΈν• μ„±λ¥ μ†μ‹¤ λν• λ¬΄μ‹ν•  μ μ—†κΈ°μ— μ•”νΈν™”ν•μ§€ μ•μ•„λ„ ν° λ¬Έμ λ” μ—†μµλ‹λ‹¤.

## TLS(SSL) μ•”νΈν™”(encrypted)

λ©”μ‹μ§€λ¥Ό μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•©λ‹λ‹¤. νƒ€μΈμ΄ κ°μ²­ν•  μ μ—†μµλ‹λ‹¤. (λ©”μ‹μ§€λ¥Ό μ–΄λ–¤ λΈλ΅μ»¤μ™€ μ£Όκ³ λ°›λ”μ§€ μ •λ„λ” κ°μ²­ν•  μ μμµλ‹λ‹¤) μ•μ„ λ§ν–λ“― λ°μ΄ν„°μ λ‚®μ€ λ―Όκ°λ„μ™€ μ„±λ¥ μ†μ‹¤λ΅ μΈν•΄ μ•”νΈν™”ν•μ§€ μ•κ³  ν†µμ‹ ν•λ” κ²½μ°κ°€ λ€λ¶€λ¶„μ…λ‹λ‹¤.

μ•”νΈν™” ν†µμ‹ μ„ μ„ν•΄μ„λ” κ³µκ° ν‚¤ μ•”νΈν™”, μΈμ¦μ„, OpenSSLμ— λ€ν•΄ μ•μ•„μ•Ό ν•©λ‹λ‹¤. μ²μ λ°°μ΄λ‹¤λ©΄ κΉλ‹¤λ΅μΈ μ μμµλ‹λ‹¤.

μ•„λ‘μ΄λ…Έ, ESP8266μ—μ„ MQTT ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ©ν•λ” PubSubClientλ” [μ•„μ§ TLS(SSL)λ¥Ό μ§€μ›ν•μ§€ μ•μµλ‹λ‹¤](https://github.com/knolleary/pubsubclient/issues/462).

## μ›Ήμ†μΌ“

IoT κΈ°κΈ°κ°€ MQTTλΌλ” ν”„λ΅ν† μ½μ„ λ”°λΌ ν†µμ‹ ν•λ“―, μ›Ή νμ΄μ§€λ” **HTTP**λΌλ” ν”„λ΅ν† μ½μ„ λ”°λΌ λ™μ‘ν•©λ‹λ‹¤. μΈν„°λ„· μµμ¤ν”λ΅λ¬λ‚ ν¬λ΅¬κ³Ό κ°™μ€ μ›Ή λΈλΌμ°μ €λ” HTTPλ§μ„ μ΄ν•΄ν•  μ μμ„ λΏ, MQTTλ¥Ό ν†µν•΄ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κ±°λ‚ λ°›λ” κΈ°λ¥μ„ ν¬ν•¨ν•κ³  μμ§€ μ•μµλ‹λ‹¤.

μ›Ή νμ΄μ§€μ—μ„ MQTTλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” **μ›Ήμ†μΌ“**μ„ ν†µν•΄μ•Ό ν•©λ‹λ‹¤. μ›Ήμ†μΌ“μ€ HTTP μƒμ—μ„ HTTPλ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  ν†µμ‹ ν•  μ μλ” μ›Ή κΈ°μ μ…λ‹λ‹¤. λ§μ΄ μ΅°κΈ μ΄μƒν•λ°, μ •λ§ λ§ κ·Έλ€λ΅ HTTP μƒμ—μ„ HTTP κΈ°λ¥μ„ μ΄μ©ν•μ§€ μ•κ³  λ€μ‹  λ‹¤λ¥Έ ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

λ‹¤λ§ λΈλ΅μ»¤κ°€ μ›Ήμ†μΌ“μ„ ν†µν• λ°©μ‹μ„ μ§€μ›ν•΄μ•Ό ν•©λ‹λ‹¤. λ‹¤ν–‰νλ„ Mosquitto, HiveMQ, AWS IoT λ“± λ€λ¶€λ¶„μ MQTT λΈλ΅μ»¤λ“¤μ€ μ›Ήμ†μΌ“μ„ μ§€μ›ν•©λ‹λ‹¤.

κ΄€λ ¨ κΈ€:

- <https://www.hivemq.com/blog/mqtt-over-websockets-with-hivemq/>

## μ›Ήμ†μΌ“ + TLS

μ›Ήμ†μΌ“μ„ TLSλ΅ μ•”νΈν™”ν•  μλ„ μμµλ‹λ‹¤.
